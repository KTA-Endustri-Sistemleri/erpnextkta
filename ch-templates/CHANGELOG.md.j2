{# ch-templates/CHANGELOG.md.j2 #}
# ğŸ“œ Changelog

{# ctx.history.released: version -> release #}
{% for version, release in ctx.history.released.items() %}
## ğŸš€ {{ version.as_tag() }} ({{ release.tagged_date.strftime("%Y-%m-%d") }})

{% if release.description %}
> ğŸ“ {{ release.description }}
{% endif %}

{# release.elements: {"feature": [commits], "fix": [...], ...} #}
{% for commit_type, commits in release.elements|dictsort %}
  {% if commits %}

    {# Commit type -> ikonlu baÅŸlÄ±k #}
    {% set icon = "ğŸ”§" %}
    {% if commit_type == "feature" %}
      {% set icon = "âœ¨" %}
    {% elif commit_type == "fix" %}
      {% set icon = "ğŸ›" %}
    {% elif commit_type == "breaking" %}
      {% set icon = "ğŸ’¥" %}
    {% elif commit_type == "docs" %}
      {% set icon = "ğŸ“" %}
    {% elif commit_type == "refactor" %}
      {% set icon = "â™»ï¸" %}
    {% elif commit_type == "perf" %}
      {% set icon = "âš¡" %}
    {% elif commit_type == "style" %}
      {% set icon = "ğŸ’„" %}
    {% elif commit_type == "test" %}
      {% set icon = "âœ…" %}
    {% elif commit_type == "build" %}
      {% set icon = "ğŸ“¦" %}
    {% elif commit_type == "ci" %}
      {% set icon = "ğŸ‘·" %}
    {% elif commit_type == "chore" %}
      {% set icon = "ğŸ§¹" %}
    {% endif %}

### {{ icon }} {{ (commit_type | capitalize) }}

    {% for commit in commits %}
      {# ParsedCommit mi? descriptions varsa evet #}
      {% if commit.descriptions is defined and commit.descriptions %}
        {% set scope_prefix = commit.scope and '**' ~ commit.scope ~ '**: ' or '' %}
- {{ scope_prefix }}{{ commit.descriptions[0] }}
      {# ParseError vb: descriptions yok, sadece message var #}
      {% else %}
- {{ commit.message }}
      {% endif %}
    {% endfor %}

  {% endif %}
{% endfor %}

---

{% endfor %}