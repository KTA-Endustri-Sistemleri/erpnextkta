{# ch-templates/.release_notes.md.j2 #}
# ğŸš€ Release {{ version.as_tag() }}

Released on **{{ release.tagged_date.strftime("%Y-%m-%d") }}**.

{% set type_meta = {
  "feature": "âœ¨ Features",
  "fix": "ğŸ› Fixes",
  "breaking": "ğŸ’¥ Breaking Changes",
  "docs": "ğŸ“ Documentation",
  "refactor": "â™»ï¸ Refactoring",
  "perf": "âš¡ Performance",
  "style": "ğŸ’„ Style",
  "test": "âœ… Tests",
  "build": "ğŸ“¦ Build System",
  "ci": "ğŸ‘· CI",
  "chore": "ğŸ§¹ Chores"
} %}

{% set has_content = false %}

{# release.elements: {"feature": [commits], ...} #}
{% for commit_type, commits in release.elements|dictsort %}
  {% if commits %}
### {{ type_meta.get(commit_type, commit_type|capitalize) }}

    {% for commit in commits %}
      {% if commit.descriptions is defined and commit.descriptions %}
        {% set scope_prefix = commit.scope and '**' ~ commit.scope ~ '**: ' or '' %}
- {{ scope_prefix }}{{ commit.descriptions[0] }}
      {% else %}
- {{ commit.message }}
      {% endif %}
    {% endfor %}

    {% set has_content = true %}
  {% endif %}
{% endfor %}

{% if not has_content %}
_No user-facing changes in this release._
{% endif %}